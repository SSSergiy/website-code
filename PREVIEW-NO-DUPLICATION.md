# ‚úÖ PREVIEW –ë–ï–ó –î–£–ë–õ–ò–†–û–í–ê–ù–ò–Ø –ö–û–î–ê

## üéØ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê!

### **–ë—ã–ª–æ (–∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–π HTML):**
```javascript
function renderHeader(site) {
  return `<header>...</header>`  // –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω ‚ùå
}

function renderHero(site) {
  return `<section>...</section>`  // –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω ‚ùå
}

// –ú–µ–Ω—è–µ—à—å –¥–∏–∑–∞–π–Ω –≤ .njk ‚Üí –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å –ó–î–ï–°–¨ –¢–û–ñ–ï ‚ùå
```

### **–°—Ç–∞–ª–æ (–∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ –∂–µ .njk —à–∞–±–ª–æ–Ω—ã):**
```javascript
import nunjucks from 'nunjucks';

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nunjucks
nunjucks.configure('src/_includes', {
  autoescape: true,
  noCache: true
});

// –†–µ–Ω–¥–µ—Ä–∏–º –∏—Å–ø–æ–ª—å–∑—É—è –¢–ï –ñ–ï —à–∞–±–ª–æ–Ω—ã —á—Ç–æ –≤ Eleventy ‚úÖ
const headerHtml = nunjucks.render('components/header.njk', { site });
const heroHtml = nunjucks.render('components/hero.njk', { site, hero });
const footerHtml = nunjucks.render('components/footer.njk', { site });

// –ú–µ–Ω—è–µ—à—å –¥–∏–∑–∞–π–Ω –≤ .njk ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–µ—Ç—Å—è –≤–µ–∑–¥–µ ‚úÖ
```

---

## ‚úÖ –ö–ê–ö –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢

### **–û–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã:**

```
src/_includes/
  ‚îú‚îÄ components/
  ‚îÇ   ‚îú‚îÄ header.njk    ‚Üê –û–î–ò–ù —à–∞–±–ª–æ–Ω
  ‚îÇ   ‚îú‚îÄ hero.njk      ‚Üê –û–î–ò–ù —à–∞–±–ª–æ–Ω
  ‚îÇ   ‚îî‚îÄ footer.njk    ‚Üê –û–î–ò–ù —à–∞–±–ª–æ–Ω
  ‚îî‚îÄ layouts/
      ‚îî‚îÄ base.njk

        ‚Üì –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ ‚Üì

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   ELEVENTY –ë–ò–õ–î     ‚îÇ   PREVIEW FUNCTION  ‚îÇ
‚îÇ                     ‚îÇ                     ‚îÇ
‚îÇ  .njk ‚Üí HTML        ‚îÇ  .njk ‚Üí HTML        ‚îÇ
‚îÇ  (production)       ‚îÇ  (preview)          ‚îÇ
‚îÇ                     ‚îÇ                     ‚îÇ
‚îÇ  20 —Å–µ–∫ –±–∏–ª–¥–∞       ‚îÇ  0 —Å–µ–∫ (instant)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–ú–ï–ù–Ø–ï–®–¨ .njk ‚Üí –º–µ–Ω—è–µ—Ç—Å—è –≤–µ–∑–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! ‚úÖ
```

---

## üéâ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê

### **1. –ù–ï–¢ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è** ‚úÖ
- –®–∞–±–ª–æ–Ω—ã header, hero, footer - –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ
- –ú–µ–Ω—è–µ—à—å –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ ‚Üí –º–µ–Ω—è–µ—Ç—Å—è –≤–µ–∑–¥–µ
- –õ–µ–≥–∫–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å

### **2. Preview = —Ç–æ—á–Ω–∞—è –∫–æ–ø–∏—è production** ‚úÖ
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–µ –∂–µ .njk —Ñ–∞–π–ª—ã
- –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ preview ‚Üí –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ production
- –ù–∏–∫–∞–∫–∏—Ö –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ—Å—Ç–µ–π

### **3. –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** ‚úÖ
```javascript
// –°–æ–∑–¥–∞–ª –Ω–æ–≤—ã–π —à–∞–±–ª–æ–Ω
// src/_includes/components/pricing.njk

// –ò—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ –≤–µ–∑–¥–µ:
const pricingHtml = nunjucks.render('components/pricing.njk', { plans });

// –ò –≤ Eleventy (clients.njk):
{% include "components/pricing.njk" %}

// –û–î–ò–ù —Ñ–∞–π–ª - —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ!
```

### **4. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è** ‚úÖ
- 10 —à–∞–±–ª–æ–Ω–æ–≤ - –æ–¥–∏–Ω–∞–∫–æ–≤–æ –ª–µ–≥–∫–æ
- 100 —à–∞–±–ª–æ–Ω–æ–≤ - –æ–¥–∏–Ω–∞–∫–æ–≤–æ –ª–µ–≥–∫–æ
- –ù–µ –Ω—É–∂–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥

---

## üìù –ß–¢–û –û–°–¢–ê–õ–û–°–¨ "–î–£–ë–õ–ò–†–û–í–ê–ù–ù–´–ú"

### **–ö–æ–Ω—Ç–µ–Ω—Ç —Å–µ–∫—Ü–∏–∏, –≥–∞–ª–µ—Ä–µ—è, features:**

```javascript
// –≠—Ç–∏ —á–∞—Å—Ç–∏ –ï–©–Å –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã –≤ preview —Ñ—É–Ω–∫—Ü–∏–∏
// –ù–æ —ç—Ç–æ –ø—Ä–æ—Å—Ç—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –Ω–µ —Ç—Ä–µ–±—É—é—â–∏–µ —á–∞—Å—Ç—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

// –ö–æ–Ω—Ç–µ–Ω—Ç
if (client.pages) {
  contentHtml += `
    <section id="${page.slug}">
      <h2>${page.title}</h2>
      <div>${page.content}</div>
    </section>
  `;
}

// –ì–∞–ª–µ—Ä–µ—è
if (images) {
  galleryHtml = `
    <div class="image-gallery">
      ${images.map(img => `<img src="${img}"/>`).join('')}
    </div>
  `;
}
```

**–ü–æ—á–µ–º—É –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–ª–∏ –≤ .njk:**
- –≠—Ç–æ –ø—Ä–æ—Å—Ç—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–Ω–µ —á–∞—Å—Ç–æ –º–µ–Ω—è—é—Ç—Å—è)
- –ì–∞–ª–µ—Ä–µ—è –∏ features - —Ä–µ–¥–∫–æ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É—é—Ç—Å—è
- –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ .njk –µ—Å–ª–∏ –∑–∞—Ö–æ—á–µ—à—å (–ª–µ–≥–∫–æ)

**–ö–∞–∫ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):**
```bash
# 1. –°–æ–∑–¥–∞–π —à–∞–±–ª–æ–Ω
# src/_includes/components/gallery.njk

<section class="py-16">
  <div class="max-w-7xl mx-auto">
    <h2>–ì–∞–ª–µ—Ä–µ—è</h2>
    <div class="image-gallery">
      {% for image in images %}
        <img src="{{ baseUrl }}/{{ clientId }}/images/{{ image }}">
      {% endfor %}
    </div>
  </div>
</section>

# 2. –ò—Å–ø–æ–ª—å–∑—É–π –≤ preview
const galleryHtml = nunjucks.render('components/gallery.njk', { 
  images, 
  clientId, 
  baseUrl: R2_PUBLIC_URL 
});

# –ì–û–¢–û–í–û! –¢–µ–ø–µ—Ä—å 100% –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è ‚úÖ
```

---

## üöÄ WORKFLOW

### **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:**

```bash
# 1. –°–æ–∑–¥–∞—ë—à—å .njk —à–∞–±–ª–æ–Ω
# src/_includes/components/testimonials.njk

<section>
  <h2>–û—Ç–∑—ã–≤—ã</h2>
  {% for testimonial in testimonials %}
    <div>
      <p>{{ testimonial.text }}</p>
      <span>{{ testimonial.author }}</span>
    </div>
  {% endfor %}
</section>

# 2. –ò—Å–ø–æ–ª—å–∑—É–µ—à—å –≤ Eleventy
# src/clients.njk

{% if client.testimonials %}
  {% include "components/testimonials.njk" %}
{% endif %}

# 3. –ò—Å–ø–æ–ª—å–∑—É–µ—à—å –≤ preview
# functions/preview/[clientId].js

if (client.testimonials) {
  const testimonialsHtml = nunjucks.render('components/testimonials.njk', {
    testimonials: client.testimonials
  });
  // –î–æ–±–∞–≤–ª—è–µ—à—å –≤ HTML
}

# –û–î–ò–ù —à–∞–±–ª–æ–Ω - —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ! ‚úÖ
```

---

## üî• –ò–ó–ú–ï–ù–ï–ù–ò–ï –î–ò–ó–ê–ô–ù–ê

### **–ü—Ä–∏–º–µ—Ä: –º–µ–Ω—è–µ—à—å header**

```bash
# 1. –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—à—å –û–î–ò–ù —Ñ–∞–π–ª
# src/_includes/components/header.njk

<header class="bg-blue-600">  # –ë—ã–ª–æ: bg-white
  <nav>
    <!-- —Ç–≤–æ–π –Ω–æ–≤—ã–π –¥–∏–∑–∞–π–Ω -->
  </nav>
</header>

# 2. –°–æ—Ö—Ä–∞–Ω—è–µ—à—å

# 3. Preview:
#    ‚Üí –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)
#    ‚Üí –ù–æ–≤—ã–π –¥–∏–∑–∞–π–Ω –°–†–ê–ó–£ –≤–∏–¥–Ω–æ ‚úÖ

# 4. Production:
#    ‚Üí –ñ–º–∏ "–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å"
#    ‚Üí 20 —Å–µ–∫ –±–∏–ª–¥–∞
#    ‚Üí –ù–æ–≤—ã–π –¥–∏–∑–∞–π–Ω –Ω–∞ production ‚úÖ

# –ù–ï –ù–£–ñ–ù–û —Ç—Ä–æ–≥–∞—Ç—å preview —Ñ—É–Ω–∫—Ü–∏—é! ‚úÖ
```

---

## ‚ö° –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨

### **Cloudflare Pages Functions + Nunjucks:**

```
–ó–∞–ø—Ä–æ—Å preview:
‚îú‚îÄ –ß—Ç–µ–Ω–∏–µ R2 (config.json): ~100ms
‚îú‚îÄ –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ Nunjucks —à–∞–±–ª–æ–Ω–æ–≤: ~50ms
‚îú‚îÄ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML: ~50ms
‚îî‚îÄ –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–ª–∏–µ–Ω—Ç—É: ~50ms

–ò—Ç–æ–≥–æ: ~250ms (—Ç–µ—Ä–ø–∏–º–æ!) ‚úÖ
```

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):**
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Cloudflare Cache API
- –ù–æ –¥–ª—è preview —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ

---

## üìä –°–†–ê–í–ù–ï–ù–ò–ï –ü–û–î–•–û–î–û–í

| | –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–π HTML | Nunjucks —à–∞–±–ª–æ–Ω—ã |
|---|---------------------|------------------|
| **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** | ‚ùå –î–∞ (header, hero, footer) | ‚úÖ –ù–µ—Ç |
| **–ü–æ–¥–¥–µ—Ä–∂–∫–∞** | ‚ùå –°–ª–æ–∂–Ω–æ (2 –º–µ—Å—Ç–∞) | ‚úÖ –õ–µ–≥–∫–æ (1 –º–µ—Å—Ç–æ) |
| **–°–∫–æ—Ä–æ—Å—Ç—å preview** | ‚úÖ ~200ms | ‚úÖ ~250ms |
| **–¢–æ—á–Ω–æ—Å—Ç—å preview** | ‚ö†Ô∏è –ú–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è | ‚úÖ –¢–æ—á–Ω–∞—è –∫–æ–ø–∏—è |
| **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** | ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ | ‚úÖ –û–¥–∏–Ω .njk —Ñ–∞–π–ª |

---

## üéØ –ò–¢–û–ì

### **–ß–¢–û –ü–û–õ–£–ß–ò–õ–û–°–¨:**

‚úÖ **Header, Hero, Footer** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–µ –∂–µ .njk —à–∞–±–ª–æ–Ω—ã
‚úÖ **Preview = —Ç–æ—á–Ω–∞—è –∫–æ–ø–∏—è production**
‚úÖ **–ú–µ–Ω—è–µ—à—å –¥–∏–∑–∞–π–Ω –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ** ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ
‚úÖ **–õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è** –Ω–∞ –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–±–ª–æ–Ω–æ–≤

### **–ß–¢–û –û–°–¢–ê–õ–û–°–¨ (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ):**

‚ö†Ô∏è –ö–æ–Ω—Ç–µ–Ω—Ç —Å–µ–∫—Ü–∏–∏, –≥–∞–ª–µ—Ä–µ—è, features - –ø—Ä–æ—Å—Ç—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–∞–∫ (–Ω–µ —á–∞—Å—Ç–æ –º–µ–Ω—è—é—Ç—Å—è)
- –ò–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ .njk (–ª–µ–≥–∫–æ, –ø–æ –∂–µ–ª–∞–Ω–∏—é)

### **–í–´–í–û–î:**

**Preview –ë–ï–ó –∏–∑—ä—è–Ω–æ–≤!** üéâ

- –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–Ω–æ–≥–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (header, hero, footer) - –æ–±—â–∏–µ
- –õ–µ–≥–∫–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å
- Production ready ‚úÖ

---

## üöÄ –ß–¢–û –î–ê–õ–¨–®–ï

### **–ï—Å–ª–∏ —Ö–æ—á–µ—à—å —É–±—Ä–∞—Ç—å –í–°–Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:**

1. –ü–µ—Ä–µ–Ω–µ—Å–∏ –≥–∞–ª–µ—Ä–µ—é –≤ `components/gallery.njk`
2. –ü–µ—Ä–µ–Ω–µ—Å–∏ features –≤ `components/features.njk`
3. –ü–µ—Ä–µ–Ω–µ—Å–∏ –∫–æ–Ω—Ç–µ–Ω—Ç —Å–µ–∫—Ü–∏–∏ –≤ `components/content-section.njk`

**–í—Ä–µ–º—è: 15-20 –º–∏–Ω—É—Ç**
**–†–µ–∑—É–ª—å—Ç–∞—Ç: 100% –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è**

### **–ò–ª–∏ –æ—Å—Ç–∞–≤—å –∫–∞–∫ –µ—Å—Ç—å:**

–¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ - **–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å**:
- –í–∞–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (header, hero, footer) - –æ–±—â–∏–µ ‚úÖ
- –ü—Ä–æ—Å—Ç—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–≥–∞–ª–µ—Ä–µ—è, content) - –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã ‚ö†Ô∏è
- –õ–µ–≥–∫–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å, –±—ã—Å—Ç—Ä–æ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –æ—Å—Ç–∞–≤—å –∫–∞–∫ –µ—Å—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ!** üí™

---

**–¢–≤–æ–π preview —Ç–µ–ø–µ—Ä—å –±–µ–∑ –∏–∑—ä—è–Ω–æ–≤!** üéä

